
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Supremacy API"
        >
    <title>Supremacy API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c8c02598.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-4d49f8a2.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#environments" class="toc-h1 toc-link" data-title="Environments">Environments</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#signature-verification" class="toc-h1 toc-link" data-title="Signature Verification">Signature Verification</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#signature-verification-2" class="toc-h2 toc-link" data-title="Signature Verification">Signature Verification</a>
                  </li>
                  <li>
                    <a href="#previous-battle-hash-generation" class="toc-h2 toc-link" data-title="Previous Battle Hash Generation">Previous Battle Hash Generation</a>
                  </li>
                  <li>
                    <a href="#current-battle-hash-generation" class="toc-h2 toc-link" data-title="Current Battle Hash Generation">Current Battle Hash Generation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#battle-history" class="toc-h1 toc-link" data-title="Battle History">Battle History</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-latest-battles" class="toc-h2 toc-link" data-title="Get Latest Battles">Get Latest Battles</a>
                  </li>
                  <li>
                    <a href="#get-a-battle-history-record" class="toc-h2 toc-link" data-title="Get a battle history record">Get a battle history record</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href="https://supremacy.game">Supremacy</a></li>
            <li><a href="https://play.supremacy.game">Battle Arena</a></li>
            <li><a href="https://supremacygame.dev">Proving Grounds</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Supremacy API.</p>

<p>This document covers API documentation and examples for you to develop applications and analytics for the Battle Arena, and eventually the rest of the system.</p>

<p>The response request and response types can change at any moment.</p>
<h1 id='environments'>Environments</h1>
<ul>
<li>Production: https://api.supremacy.game/api</li>
<li>Proving Grounds: https://api.supremacygame.dev/api</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p>No authentication is required for the public API endpoints.</p>
<h1 id='signature-verification'>Signature Verification</h1>
<p>The verified API endpoints provided with Supremacy are signed by the contract operator:</p>

<ul>
<li>Staging: <code>0xc01c2f6DD7cCd2B9F8DB9aa1Da9933edaBc5079E</code></li>
<li>Production: <code>0xeCfB1f31F012Db0bf6720610301F23F064c567f9</code></li>
</ul>

<p>Developers can use this to commit verified data into the blockchain in a trustless manner.</p>
<h2 id='signature-verification-2'>Signature Verification</h2><div class="highlight"><pre class="highlight solidity tab-solidity"><code><span class="c1">// SPDX-License-Identifier: MIT
</span>
<span class="k">pragma</span> <span class="n">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">0</span><span class="p">;</span>

<span class="c1">/// @custom:security-contact privacy-admin@supremacy.game
</span><span class="k">contract</span> <span class="n">SignatureVerifier</span> <span class="p">{</span>
    <span class="kt">address</span> <span class="k">public</span> <span class="n">signer</span><span class="p">;</span>

    <span class="k">constructor</span><span class="p">(</span><span class="kt">address</span> <span class="n">_signer</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">_signer</span> <span class="o">!=</span> <span class="kt">address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="s">"zero address can not be signer"</span><span class="p">);</span>
        <span class="n">signer</span> <span class="o">=</span> <span class="n">_signer</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">setSigner</span><span class="p">(</span><span class="kt">address</span> <span class="n">_signer</span><span class="p">)</span> <span class="k">internal</span> <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">_signer</span> <span class="o">!=</span> <span class="kt">address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="s">"zero address can not be signer"</span><span class="p">);</span>
        <span class="n">signer</span> <span class="o">=</span> <span class="n">_signer</span><span class="p">;</span>
        <span class="k">emit</span> <span class="n">SetSigner</span><span class="p">(</span><span class="n">_signer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// verify returns true if signature by signer matches the hash
</span>    <span class="k">function</span> <span class="n">verify</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">messageHash</span><span class="p">,</span> <span class="kt">bytes</span> <span class="k">memory</span> <span class="n">signature</span><span class="p">)</span>
        <span class="k">internal</span>
        <span class="k">view</span>
        <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">signer</span> <span class="o">!=</span> <span class="kt">address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="s">"zero address can not be signer"</span><span class="p">);</span>
        <span class="kt">bytes32</span> <span class="n">ethSignedMessageHash</span> <span class="o">=</span> <span class="n">getEthSignedMessageHash</span><span class="p">(</span><span class="n">messageHash</span><span class="p">);</span>
        <span class="p">(</span><span class="kt">bytes32</span> <span class="n">r</span><span class="p">,</span> <span class="kt">bytes32</span> <span class="n">s</span><span class="p">,</span> <span class="kt">uint8</span> <span class="n">v</span><span class="p">)</span> <span class="o">=</span> <span class="n">splitSignature</span><span class="p">(</span><span class="n">signature</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">recoverSigner</span><span class="p">(</span><span class="n">ethSignedMessageHash</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="n">signer</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// verifyRSV returns true if signature by signer matches the hash
</span>    <span class="k">function</span> <span class="n">verifyRSV</span><span class="p">(</span>
        <span class="kt">bytes32</span> <span class="n">messageHash</span><span class="p">,</span>
        <span class="kt">bytes32</span> <span class="n">r</span><span class="p">,</span>
        <span class="kt">bytes32</span> <span class="n">s</span><span class="p">,</span>
        <span class="kt">uint8</span> <span class="n">v</span>
    <span class="p">)</span> <span class="k">internal</span> <span class="k">view</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">signer</span> <span class="o">!=</span> <span class="kt">address</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="s">"zero address can not be signer"</span><span class="p">);</span>
        <span class="kt">bytes32</span> <span class="n">ethSignedMessageHash</span> <span class="o">=</span> <span class="n">getEthSignedMessageHash</span><span class="p">(</span><span class="n">messageHash</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">recoverSigner</span><span class="p">(</span><span class="n">ethSignedMessageHash</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="n">signer</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">getEthSignedMessageHash</span><span class="p">(</span><span class="kt">bytes32</span> <span class="n">messageHash</span><span class="p">)</span>
        <span class="k">internal</span>
        <span class="k">pure</span>
        <span class="k">returns</span> <span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span>
            <span class="nb">keccak256</span><span class="p">(</span>
                <span class="n">abi</span><span class="p">.</span><span class="n">encodePacked</span><span class="p">(</span>
                    <span class="s">"</span><span class="se">\x19</span><span class="s">Ethereum Signed Message:</span><span class="se">\n</span><span class="s">32"</span><span class="p">,</span>
                    <span class="n">messageHash</span>
                <span class="p">)</span>
            <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">recoverSigner</span><span class="p">(</span>
        <span class="kt">bytes32</span> <span class="n">_ethSignedMessageHash</span><span class="p">,</span>
        <span class="kt">bytes32</span> <span class="n">r</span><span class="p">,</span>
        <span class="kt">bytes32</span> <span class="n">s</span><span class="p">,</span>
        <span class="kt">uint8</span> <span class="n">v</span>
    <span class="p">)</span> <span class="k">internal</span> <span class="k">pure</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">address</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">v</span> <span class="o">==</span> <span class="mi">27</span> <span class="o">||</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">28</span><span class="p">,</span> <span class="s">"invalid v value"</span><span class="p">);</span>
        <span class="nb">require</span><span class="p">(</span>
            <span class="kt">uint256</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span>
                <span class="mh">0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A1</span><span class="p">,</span>
            <span class="s">"invalid s value"</span>
        <span class="p">);</span>
        <span class="k">return</span> <span class="nb">ecrecover</span><span class="p">(</span><span class="n">_ethSignedMessageHash</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">splitSignature</span><span class="p">(</span><span class="kt">bytes</span> <span class="k">memory</span> <span class="n">signature</span><span class="p">)</span>
        <span class="k">internal</span>
        <span class="k">pure</span>
        <span class="k">returns</span> <span class="p">(</span>
            <span class="kt">bytes32</span> <span class="n">r</span><span class="p">,</span>
            <span class="kt">bytes32</span> <span class="n">s</span><span class="p">,</span>
            <span class="kt">uint8</span> <span class="n">v</span>
        <span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">require</span><span class="p">(</span><span class="n">signature</span><span class="p">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">65</span><span class="p">,</span> <span class="s">"invalid signature length"</span><span class="p">);</span>
        <span class="k">assembly</span> <span class="p">{</span>
            <span class="n">r</span> <span class="o">:=</span> <span class="n">mload</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="n">signature</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
            <span class="n">s</span> <span class="o">:=</span> <span class="n">mload</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="n">signature</span><span class="p">,</span> <span class="mi">64</span><span class="p">))</span>
            <span class="n">v</span> <span class="o">:=</span> <span class="kt">byte</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">mload</span><span class="p">(</span><span class="n">add</span><span class="p">(</span><span class="n">signature</span><span class="p">,</span> <span class="mi">96</span><span class="p">)))</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">event</span> <span class="n">SetSigner</span><span class="p">(</span><span class="kt">address</span> <span class="n">_signer</span><span class="p">);</span>
<span class="p">}</span>


</code></pre></div>
<p>Use <a href="https://eips.ethereum.org/EIPS/eip-1271">EIP-1271</a> to verify signatures:</p>

<ul>
<li>Split signature from API into <code>r</code>, <code>s</code>, <code>v</code> components</li>
<li>Generate message hash using the arguments used to generate the hash (see below)</li>
<li>Use <code>ecrecover(_ethSignedMessageHash, v, r, s);</code> to retrieve the signer</li>
<li>Confirm signer matches the correct public address

<ul>
<li>Staging: <code>0xc01c2f6DD7cCd2B9F8DB9aa1Da9933edaBc5079E</code></li>
<li>Production: <code>0xeCfB1f31F012Db0bf6720610301F23F064c567f9</code></li>
</ul></li>
</ul>
<h2 id='previous-battle-hash-generation'>Previous Battle Hash Generation</h2><div class="highlight"><pre class="highlight solidity tab-solidity"><code><span class="c1">// BattleCommitHash returns the hash of a historical battle record for signature verification
</span><span class="k">function</span> <span class="n">BattleCommitHash</span><span class="p">(</span><span class="n">BattleCommit</span> <span class="k">memory</span> <span class="n">_battleCommit</span><span class="p">)</span>
    <span class="k">internal</span>
    <span class="k">pure</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span>
        <span class="nb">keccak256</span><span class="p">(</span>
            <span class="n">abi</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">battle_number</span><span class="p">,</span>
                <span class="n">battle_started_at</span><span class="p">,</span>
                <span class="n">battle_ended_at</span><span class="p">,</span>
                <span class="n">battle_winner</span><span class="p">,</span>
                <span class="n">battle_runner_up</span><span class="p">,</span>
                <span class="n">battle_loser</span>
            <span class="p">)</span>
        <span class="p">);</span>
<span class="p">}</span>

</code></pre></div>
<p>Battle commits use 6 values to generate their signatures:</p>

<ul>
<li><code>uint256 battle_number</code>: The battle number</li>
<li><code>uint256 battle_started_at</code>: The time in unix seconds (int64) that the battle started</li>
<li><code>uint256 battle_ended_at</code>: The time in unix seconds (int64) that the battle ended</li>
<li><code>uint256 battle_winner</code>: The battle winner</li>
<li><code>uint256 battle_runner_up</code>: The battle runner-up</li>
<li><code>uint256 battle_loser</code>: The battle loser</li>
</ul>

<p>The factions are mapped to integers, namely:</p>

<ul>
<li>1: Zaibatsu</li>
<li>2: Red Mountain</li>
<li>3: Boston Cybernetics</li>
</ul>

<p>Retrieve these from the REST API to generate the message hash.</p>
<h2 id='current-battle-hash-generation'>Current Battle Hash Generation</h2><div class="highlight"><pre class="highlight solidity tab-solidity"><code><span class="c1">// CurrentBattleNumberHash returns the hash of the current battle for signature verification
</span><span class="k">function</span> <span class="n">CurrentBattleNumberHash</span><span class="p">(</span><span class="n">CurrentBattle</span> <span class="k">memory</span> <span class="n">_currentBattle</span><span class="p">)</span>
    <span class="k">internal</span>
    <span class="k">pure</span>
    <span class="k">returns</span> <span class="p">(</span><span class="kt">bytes32</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span>
        <span class="nb">keccak256</span><span class="p">(</span>
            <span class="n">abi</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">battle_number</span><span class="p">,</span>
                <span class="n">battle_started_at</span><span class="p">,</span>
                <span class="n">battle_expires_at</span>
            <span class="p">)</span>
        <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Current battles 3 values to generate their signatures.</p>

<ul>
<li><code>uint256 battle_number</code>: The battle number</li>
<li><code>uint256 battle_started_at</code>: The time in unix seconds (int64) that the battle started</li>
<li><code>uint256 battle_expires_at</code>: A short expiry (15 seconds) which invalidates the signatures to prevent repeat usage.</li>
</ul>

<p>Retrieve these from the REST API to generate the message hash.</p>
<h1 id='battle-history'>Battle History</h1><h2 id='get-latest-battles'>Get Latest Battles</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">http://api.supremacygame.dev/api/battle_history</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">resp</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">resp</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"current_battle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662527943</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662528117</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x333c19d4ea40a8c258f7a5084d1565e9cb4145c6273c0ea7c68124f4e42d8374663a3fd873123ad2e07f726d9c6c4b93a7857c03d0959c8b0bd8f788ad1fd7a01b"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"previous_battles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662525218</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662525502</span><span class="p">,</span><span class="w">
      </span><span class="nl">"winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"runner_up"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"loser"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xfa13ca633babd42aa0944e6213c1d657f075637de6690eb2c9dbae5c05d3e36f455bedbbc3ce4e82fe73d9756f72d56056d54092a4581712d19f16ae23f236db1c"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves the current battle, and the latest ten battles.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.supremacygame.dev/api/battle_history</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<p>None.</p>
<h2 id='get-a-battle-history-record'>Get a battle history record</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">http://api.supremacygame.dev/api/battle_history/1</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">resp</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">resp</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"battle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662518516</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1662518992</span><span class="p">,</span><span class="w">
    </span><span class="nl">"winner"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"runner_up"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"loser"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x9b2760283db0586ffd5bca27858ec50437dc49fe73ba8b5132de71a7359cc0b6505ce167de06fa3ebd6c999725086930864c8a3599c81ea40bff3793669b708f1b"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves a battle record, given its ID.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.supremacygame.dev/api/battle_history/{battle_number}</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>battle_number</td>
<td>The battle number to retrieve</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
